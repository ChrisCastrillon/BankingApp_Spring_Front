{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { LoginTemplate } from '../templates/login-template';\nlet LoginComponent = class LoginComponent {\n  constructor(service, router) {\n    this.service = service;\n    this.router = router;\n  }\n  //this can be in a service (?)\n  loginToApp() {\n    let lt = new LoginTemplate();\n    lt.username = this.username;\n    lt.password = this.password;\n    alert(JSON.stringify(lt));\n    try {\n      this.service.sendLogin(lt).subscribe(data => {\n        this.data = data;\n      });\n      console.log(\"this dataaaaaaaaaa\", this.data);\n    } catch (e) {\n      console.log(e);\n      this.failedToLogIn();\n    }\n    setTimeout(() => {\n      sessionStorage.setItem('currentUser', JSON.stringify(this.data));\n      console.log(\"the item is : \" + sessionStorage.currentUser);\n      this.currentUser = JSON.parse(sessionStorage.currentUser);\n      console.log(this.currentUser.userRole);\n      alert(\"The role is: \" + this.currentUser.userRole);\n      if (this.currentUser.userRole == \"FinanceManager\") {\n        this.router.navigateByUrl(\"/finance-manager-portal\");\n      } else {\n        this.router.navigateByUrl(\"/user-home\");\n      }\n    }, 3000);\n  }\n  failedToLogIn() {\n    alert(\"failed to login\");\n    document.getElementById('failedToLogin').innerHTML + \"Failed To Login\";\n  }\n  ngOnInit() {}\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}