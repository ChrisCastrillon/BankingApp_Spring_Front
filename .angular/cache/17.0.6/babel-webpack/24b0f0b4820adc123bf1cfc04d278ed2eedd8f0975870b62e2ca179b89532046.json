{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../apiServices/bank-account-service.service\";\nfunction ManageTransfersComponent_select_11_option_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const account_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", account_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" \", \"ACCN: \" + account_r4.accountNumber, \" \", account_r4.accountType, \" \", i0.ɵɵpipeBind2(2, 4, account_r4.balance, \"USD\"), \" \");\n  }\n}\nfunction ManageTransfersComponent_select_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"select\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function ManageTransfersComponent_select_11_Template_select_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.fromAccount = $event);\n    });\n    i0.ɵɵtemplate(1, ManageTransfersComponent_select_11_option_1_Template, 3, 7, \"option\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.fromAccount);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.accounts);\n  }\n}\nfunction ManageTransfersComponent_select_15_option_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const account_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", account_r8);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" \", \"ACCN: \" + account_r8.accountNumber, \" \", account_r8.accountType, \" \", i0.ɵɵpipeBind2(2, 4, account_r8.balance, \"USD\"), \" \");\n  }\n}\nfunction ManageTransfersComponent_select_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"select\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function ManageTransfersComponent_select_15_Template_select_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.toAccount = $event);\n    });\n    i0.ɵɵtemplate(1, ManageTransfersComponent_select_15_option_1_Template, 3, 7, \"option\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.toAccount);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.accounts);\n  }\n}\nfunction ManageTransfersComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"h1\");\n    i0.ɵɵtext(2, \"Summary\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate3(\"Transferring \", i0.ɵɵpipeBind2(5, 5, ctx_r2.transferAmount, \"USD\"), \" from Account : \", ctx_r2.fromAccount == null ? null : ctx_r2.fromAccount.accountNumber, \" of balance: \", i0.ɵɵpipeBind2(6, 8, ctx_r2.fromAccount == null ? null : ctx_r2.fromAccount.balance, \"USD\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"To Account: \", ctx_r2.toAccount == null ? null : ctx_r2.toAccount.accountNumber, \" of balance: \", i0.ɵɵpipeBind2(9, 11, ctx_r2.toAccount == null ? null : ctx_r2.toAccount.balance, \"USD\"), \"\");\n  }\n}\nexport let ManageTransfersComponent = /*#__PURE__*/(() => {\n  class ManageTransfersComponent {\n    constructor(bankAccountService) {\n      this.bankAccountService = bankAccountService;\n      this.accounts = [];\n      this.time = new Date();\n    }\n    submitTransfer(fromAccount, toAccount, transferAmount) {\n      try {\n        this.bankAccountService.transferFunds(fromAccount.accountNumber, toAccount.accountNumber, transferAmount).subscribe(data => {\n          this.accounts = data;\n        });\n      } catch (e) {\n        alert(\"could not complete transfer\" + e);\n      }\n    }\n    getAllAccounts() {\n      this.currentUser = JSON.parse(sessionStorage.currentUser);\n      try {\n        this.bankAccountService.getAllAccountsForUser(this.currentUser.userId).subscribe(res => {\n          this.accounts = res;\n        });\n      } catch (e) {\n        console.log(e);\n        alert(\"Cannot retrieve accounts\");\n      }\n    }\n    ngOnInit() {\n      this.getAllAccounts();\n    }\n    static #_ = this.ɵfac = function ManageTransfersComponent_Factory(t) {\n      return new (t || ManageTransfersComponent)(i0.ɵɵdirectiveInject(i1.BankAccountServiceService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ManageTransfersComponent,\n      selectors: [[\"app-manage-transfers\"]],\n      decls: 22,\n      vars: 5,\n      consts: [[\"id\", \"superContainer\", 1, \"container\"], [1, \"row\"], [\"id\", \"accountsColumn\", 1, \"col\", \"col-8\"], [\"id\", \"fromAccountSelect\", 1, \"container\"], [\"for\", \"accounts\"], [\"id\", \"fromAccounts\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"id\", \"toAccountSelect\", 1, \"container\"], [\"for\", \"transferAmount\"], [\"id\", \"trasferAmount\", \"type\", \"number\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"submitButton\", \"type\", \"submit\", 3, \"click\"], [\"class\", \"col col-4\", \"id\", \"summary\", 4, \"ngIf\"], [\"id\", \"fromAccounts\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngValue\"], [\"id\", \"summary\", 1, \"col\", \"col-4\"]],\n      template: function ManageTransfersComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"p\");\n          i0.ɵɵtext(2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"h1\");\n          i0.ɵɵtext(6, \"Make a Transfer\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(7, \"hr\");\n          i0.ɵɵelementStart(8, \"div\", 3)(9, \"label\", 4);\n          i0.ɵɵtext(10, \"From Account: \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(11, ManageTransfersComponent_select_11_Template, 2, 2, \"select\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\", 6)(13, \"label\", 4);\n          i0.ɵɵtext(14, \"To Account: \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(15, ManageTransfersComponent_select_15_Template, 2, 2, \"select\", 5);\n          i0.ɵɵelement(16, \"br\");\n          i0.ɵɵelementStart(17, \"label\", 7);\n          i0.ɵɵtext(18, \"Transfer Amount: \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"input\", 8);\n          i0.ɵɵlistener(\"ngModelChange\", function ManageTransfersComponent_Template_input_ngModelChange_19_listener($event) {\n            return ctx.transferAmount = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"input\", 9);\n          i0.ɵɵlistener(\"click\", function ManageTransfersComponent_Template_input_click_20_listener() {\n            return ctx.submitTransfer(ctx.fromAccount, ctx.toAccount, ctx.transferAmount);\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(21, ManageTransfersComponent_div_21_Template, 10, 14, \"div\", 10);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.time);\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngIf\", ctx.accounts !== null);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.accounts !== null);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.transferAmount);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.transferAmount);\n        }\n      },\n      styles: [\".container[_ngcontent-%COMP%], p[_ngcontent-%COMP%]:not(#submitButton){font-size:1.2em;margin-left:0}#superContainer[_ngcontent-%COMP%]{height:25em;margin-left:25px}#submitButton[_ngcontent-%COMP%]{border-radius:15px;padding-left:1em;padding-right:1em;background-color:#de9eeb;box-shadow:10px 10px #d7d3e2;color:#007bff;border:none}#submitButton[_ngcontent-%COMP%]:hover{background-color:#e2d3d9}\"]\n    });\n  }\n  return ManageTransfersComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}